(this["webpackJsonprecortes-cli"]=this["webpackJsonprecortes-cli"]||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);a(72),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),o=a.n(n),r=a(13),s=a.n(r),l=a(19),i=a(20),c=a(69),u=a(58),h=a(70),d=(a(77),a(78),a(79),a(59)),m=a.n(d),p=a(60),E=a.n(p),v=a(61),b=a.n(v),f=a(62);function g(e){if(e.ok)return e;if(401===e.status)throw new Error("N\xe3o foi poss\xedvel autenticar na API. Verifique o usu\xe1rio e senha.");if(404===e.status)throw new Error("O recorte n\xe3o foi localizado.")}var q=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"palavrasContadas",value:function(e,t,a,n){var r=n.quantidadePalavras,s=e.split(" "),l=s.length>r?s.slice(0,r).join(" ")+" (...)":e;return o.a.createElement("span",null,l)}}]),e}(),k=a(141),C=a(142),y=a(144),P=a(143),w=a(65),j=a(145),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).columns=[{dataField:"id",text:"Id",headerStyle:function(e,t){return{width:"100px"}}},{dataField:"data_publicacao",text:"Data",headerStyle:function(e,t){return{width:"150px"}}},{dataField:"recorte",text:"Recorte",formatter:q.palavrasContadas,formatExtraData:{quantidadePalavras:5}}],a.expandRow={renderer:function(e){return o.a.createElement("div",null,o.a.createElement("p",null,e.recorte))}},a.state={termo:"",recortes:[],usuario:"",senha:"",isActive:!1,tipoPesquisa:"nup"},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"pesquisar",value:function(e){var t=this;e.preventDefault();var a=this.objetoTipoPesquisa.url;console.log(a);var n,o,r=(n=this.state.usuario,o=this.state.senha,{method:"get",headers:new Headers({Authorization:"Basic "+Object(f.encode)(n+":"+o)})});this.setState({isActive:!0}),fetch(a,r).then(g).then((function(e){return e.json()})).then((function(e){t.setState({recortes:e,isActive:!1})})).catch((function(e){t.setState({isActive:!1}),alert(e.message)}))}},{key:"handleTermo",value:function(e){this.setState({termo:e.target.value})}},{key:"handleSenha",value:function(e){this.setState({senha:e.target.value})}},{key:"handleUsuario",value:function(e){this.setState({usuario:e.target.value})}},{key:"handleRadioChange",value:function(e){this.setState({termo:"",recortes:[],tipoPesquisa:e.target.value})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k.a,null,o.a.createElement("h1",null,"Pesquisa de Recortes")),o.a.createElement(C.a,null,o.a.createElement(y.a,null,o.a.createElement(P.a,null,o.a.createElement(w.a,{sm:4},o.a.createElement(P.a,null,o.a.createElement(w.a,null,o.a.createElement(y.a.Group,{controlId:"usuario"},o.a.createElement(y.a.Label,{className:"Label"},"Usu\xe1rio"),o.a.createElement(y.a.Control,{placeholder:"Login",value:this.state.usuario,onChange:this.handleUsuario.bind(this)})))),o.a.createElement(P.a,null,o.a.createElement(w.a,null,o.a.createElement(y.a.Group,{controlId:"senha"},o.a.createElement(y.a.Label,{className:"Label"},"Senha"),o.a.createElement(y.a.Control,{type:"password",placeholder:"Senha",value:this.state.senha,onChange:this.handleSenha.bind(this),autoComplete:"off"})))),o.a.createElement(P.a,null,o.a.createElement(w.a,null,o.a.createElement(y.a.Group,null,o.a.createElement(y.a.Label,{className:"Label"},"Tipo de Pesquisa"),o.a.createElement(y.a.Check,{type:"radio",label:"N\xfamero do Processo",value:"nup",onChange:this.handleRadioChange.bind(this),checked:"nup"===this.state.tipoPesquisa}),o.a.createElement(y.a.Check,{type:"radio",label:"Data de Publica\xe7\xe3o",value:"t",onChange:this.handleRadioChange.bind(this),checked:"t"===this.state.tipoPesquisa}),o.a.createElement(y.a.Check,{type:"radio",label:"Termos",value:"q",onChange:this.handleRadioChange.bind(this),checked:"q"===this.state.tipoPesquisa})))),o.a.createElement(P.a,null,o.a.createElement(w.a,null,o.a.createElement(y.a.Group,{controlId:"formNup"},o.a.createElement(y.a.Label,{className:"Label"},this.objetoTipoPesquisa.label),o.a.createElement(y.a.Control,{type:"text",placeholder:this.objetoTipoPesquisa.placeholder,value:this.state.termo,onChange:this.handleTermo.bind(this)})))),o.a.createElement(P.a,null,o.a.createElement(w.a,null,o.a.createElement(j.a,{size:"sm",variant:"primary",type:"submit",onClick:this.pesquisar.bind(this)},"Pesquisar")))),o.a.createElement(w.a,{sm:!0},o.a.createElement("h3",null,"Resultado da Pesquisa"),o.a.createElement(m.a,{active:this.state.isActive,spinner:!0,text:"Pesquisando..."},o.a.createElement(E.a,{bootstrap4:!0,keyField:"id",data:this.state.recortes,columns:this.columns,pagination:b()(),striped:!0,hover:!0,expandRow:this.expandRow})))))))}},{key:"termosAjustados",get:function(){return this.state.termo.split(" ").join("-")}},{key:"objetoTipoPesquisa",get:function(){return{nup:{label:"N\xfamero do Processo",placeholder:"Digite o n\xfamero do processo",url:"http://localhost:8001/api/recortes/?nup=".concat(this.state.termo)},t:{label:"Data de Cria\xe7\xe3o",placeholder:"Data de cria\xe7\xe3o do processo",url:"http://localhost:8001/api/recortes/?t=".concat(this.state.termo)},q:{label:"Termos",placeholder:"Termos separados por espa\xe7os",url:"http://localhost:8001/api/recortes/?q=".concat(this.termosAjustados)}}[this.state.tipoPesquisa]}}]),t}(o.a.Component),S=a(66),R=a(11);s.a.render(o.a.createElement(S.a,null,o.a.createElement(R.c,null,o.a.createElement(R.a,{path:"/",exact:!0,component:x}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){e.exports=a(139)},72:function(e,t,a){},79:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.7d984930.chunk.js.map